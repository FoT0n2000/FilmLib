{"ast":null,"code":"import Main from \"../App/Pages/Main\";\nimport titlePage from \"../App/Pages/TitlePage\";\nimport UserPage from \"../App/Pages/UserPage\";\nimport TabVersion from \"../App/TabVersion\";\nimport DesktopVersion from \"../App/DesktopVersion\";\nimport SignIn from \"../App/Pages/SignIn\";\nimport SignUp from \"../App/Pages/SignUp\";\nimport Categories from \"../App/Pages/Categories\";\nimport Category from \"../App/Pages/Category\";\nimport React, { useContext, useEffect, useState, useCallback } from 'react';\nimport { AuthContext } from '../App/context/AuthContext';\nimport { useAuth } from '../App/Hooks/auth.hook';\n\nvar Ons = require('onsenui'); //check os\n\n\nconst os = Ons.platform.isIOS() || Ons.platform.isAndroid(); //if mobile version\n\nvar TabIndex = 0; //mobile onEnter Hook\n\nconst onEnter = (trans, state) => {\n  trans.onSuccess(\"\", () => {\n    console.log(TabIndex);\n    var tabs = document.getElementsByTagName(\"ons-tabbar\")[0];\n    var btn = tabs.getElementsByTagName(\"button\")[TabIndex];\n    btn.click();\n  });\n}; //noop function\n\n\nconst noop = (trans, state) => {};\n\nconst useRoutes = isAuth => {\n  return [{\n    name: \"app\",\n    url: \"/\",\n    component: os ? TabVersion : DesktopVersion,\n    redirectTo: \"app.main\",\n    onEnter: os ? () => {\n      TabIndex = 0;\n      return onEnter;\n    } : noop()\n  }, {\n    name: 'app.main',\n    url: \"main\",\n    component: Main,\n    onEnter: os ? () => {\n      TabIndex = 0;\n      return onEnter;\n    } : noop()\n  }, {\n    name: 'app.categories',\n    url: \"categories\",\n    component: Categories,\n    onEnter: os ? () => {\n      TabIndex = 1;\n      return onEnter;\n    } : noop()\n  }, {\n    name: 'app.account',\n    url: \"account\",\n    component: UserPage,\n    onEnter: os ? () => {\n      TabIndex = 2;\n      return onEnter;\n    } : (trans, state) => {\n      if (!isAuth) state.redirectTo(\"app.signIn\");\n    },\n    RedirectTo: trans => {\n      if (!isAuth) return {\n        state: \"app.signIn\"\n      };\n    }\n  }, {\n    name: 'app.signIn',\n    url: \"signIn\",\n    component: SignIn,\n    onEnter: (trans, state) => {\n      if (!isAuth) state.redirectTo(\"app.account\");\n    },\n    RedirectTo: trans => {\n      if (isAuth) return {\n        state: \"app.account\"\n      };\n    }\n  }, {\n    name: 'app.signUp',\n    url: \"signUp\",\n    component: SignUp,\n    onEnter: (trans, state) => {\n      if (!isAuth) state.redirectTo(\"app.account\");\n    },\n    RedirectTo: trans => {\n      if (isAuth) return {\n        state: \"app.account\"\n      };\n    }\n  }, {\n    name: 'app.category',\n    url: 'categories/:category',\n    component: Category\n  }, {\n    name: 'app.titlepage',\n    url: 'titles/:titleId',\n    component: titlePage\n  }];\n};\n\nexport { TabIndex, useRoutes };","map":{"version":3,"sources":["C:/Users/Анатолий/Desktop/университет/3 курс/6 семестр/react js/TEST/my-app/src/Routes/Routes.js"],"names":["Main","titlePage","UserPage","TabVersion","DesktopVersion","SignIn","SignUp","Categories","Category","React","useContext","useEffect","useState","useCallback","AuthContext","useAuth","Ons","require","os","platform","isIOS","isAndroid","TabIndex","onEnter","trans","state","onSuccess","console","log","tabs","document","getElementsByTagName","btn","click","noop","useRoutes","isAuth","name","url","component","redirectTo","RedirectTo"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,EAAgDC,WAAhD,QAAkE,OAAlE;AACA,SAAQC,WAAR,QAA0B,4BAA1B;AACA,SAAQC,OAAR,QAAsB,wBAAtB;;AAGA,IAAIC,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAjB,C,CAEA;;;AACA,MAAMC,EAAE,GAAGF,GAAG,CAACG,QAAJ,CAAaC,KAAb,MAAwBJ,GAAG,CAACG,QAAJ,CAAaE,SAAb,EAAnC,C,CAEA;;AACA,IAAIC,QAAQ,GAAG,CAAf,C,CAEA;;AACA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAC9BD,EAAAA,KAAK,CAACE,SAAN,CAAgB,EAAhB,EAAoB,MAAM;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,QAAIO,IAAI,GAAGC,QAAQ,CAACC,oBAAT,CAA8B,YAA9B,EAA4C,CAA5C,CAAX;AACA,QAAIC,GAAG,GAAGH,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoCT,QAApC,CAAV;AACAU,IAAAA,GAAG,CAACC,KAAJ;AACH,GALD;AAMH,CAPD,C,CASA;;;AACA,MAAMC,IAAI,GAAG,CAACV,KAAD,EAAQC,KAAR,KAAkB,CAAE,CAAjC;;AAEA,MAAMU,SAAS,GAAGC,MAAM,IAAG;AACzB,SAAO,CACL;AACEC,IAAAA,IAAI,EAAE,KADR;AAEEC,IAAAA,GAAG,EAAE,GAFP;AAGEC,IAAAA,SAAS,EAAErB,EAAE,GAAEf,UAAF,GAAeC,cAH9B;AAIEoC,IAAAA,UAAU,EAAE,UAJd;AAKEjB,IAAAA,OAAO,EAAEL,EAAE,GAAG,MAAM;AAAEI,MAAAA,QAAQ,GAAG,CAAX;AAAe,aAAOC,OAAP;AAAiB,KAA3C,GAA8CW,IAAI;AAL/D,GADK,EAQL;AACEG,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,GAAG,EAAC,MAFN;AAGEC,IAAAA,SAAS,EAAEvC,IAHb;AAIEuB,IAAAA,OAAO,EAAEL,EAAE,GAAG,MAAM;AAAEI,MAAAA,QAAQ,GAAG,CAAX;AAAe,aAAOC,OAAP;AAAiB,KAA3C,GAA8CW,IAAI;AAJ/D,GARK,EAcL;AACEG,IAAAA,IAAI,EAAE,gBADR;AAEEC,IAAAA,GAAG,EAAC,YAFN;AAGEC,IAAAA,SAAS,EAAEhC,UAHb;AAIEgB,IAAAA,OAAO,EAAEL,EAAE,GAAK,MAAM;AAAEI,MAAAA,QAAQ,GAAG,CAAX;AAAe,aAAOC,OAAP;AAAiB,KAA7C,GAAgDW,IAAI;AAJjE,GAdK,EAoBL;AACEG,IAAAA,IAAI,EAAE,aADR;AAEEC,IAAAA,GAAG,EAAC,SAFN;AAGEC,IAAAA,SAAS,EAAErC,QAHb;AAIEqB,IAAAA,OAAO,EAAEL,EAAE,GAAG,MAAM;AAAEI,MAAAA,QAAQ,GAAG,CAAX;AAAe,aAAOC,OAAP;AAAiB,KAA3C,GAA8C,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAAC,UAAG,CAACW,MAAJ,EAAWX,KAAK,CAACe,UAAN,CAAiB,YAAjB;AAA+B,KAJxH;AAKEC,IAAAA,UAAU,EAAGjB,KAAD,IAAW;AACrB,UAAG,CAACY,MAAJ,EACE,OAAO;AAAEX,QAAAA,KAAK,EAAE;AAAT,OAAP;AACH;AARH,GApBK,EA8BL;AACEY,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,GAAG,EAAC,QAFN;AAGEC,IAAAA,SAAS,EAAElC,MAHb;AAIEkB,IAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAAC,UAAG,CAACW,MAAJ,EAAWX,KAAK,CAACe,UAAN,CAAiB,aAAjB;AAAgC,KAJzE;AAKEC,IAAAA,UAAU,EAAGjB,KAAD,IAAW;AACrB,UAAGY,MAAH,EACE,OAAO;AAAEX,QAAAA,KAAK,EAAE;AAAT,OAAP;AACH;AARH,GA9BK,EAwCL;AACEY,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,GAAG,EAAC,QAFN;AAGEC,IAAAA,SAAS,EAAEjC,MAHb;AAIEiB,IAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAAC,UAAG,CAACW,MAAJ,EAAWX,KAAK,CAACe,UAAN,CAAiB,aAAjB;AAAgC,KAJzE;AAKEC,IAAAA,UAAU,EAAGjB,KAAD,IAAW;AACrB,UAAGY,MAAH,EACE,OAAO;AAAEX,QAAAA,KAAK,EAAE;AAAT,OAAP;AACH;AARH,GAxCK,EAkDL;AACEY,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,GAAG,EAAE,sBAFP;AAGEC,IAAAA,SAAS,EAAE/B;AAHb,GAlDK,EAuDL;AACE6B,IAAAA,IAAI,EAAE,eADR;AAEEC,IAAAA,GAAG,EAAE,iBAFP;AAGEC,IAAAA,SAAS,EAAEtC;AAHb,GAvDK,CAAP;AA6DD,CA9DD;;AAgEA,SAAQqB,QAAR,EAAkBa,SAAlB","sourcesContent":["import Main from \"../App/Pages/Main\";\r\nimport titlePage from \"../App/Pages/TitlePage\";\r\nimport UserPage from \"../App/Pages/UserPage\";\r\nimport TabVersion from \"../App/TabVersion\";\r\nimport DesktopVersion from \"../App/DesktopVersion\";\r\nimport SignIn from \"../App/Pages/SignIn\";\r\nimport SignUp from \"../App/Pages/SignUp\";\r\nimport Categories from \"../App/Pages/Categories\";\r\nimport Category from \"../App/Pages/Category\";\r\nimport React, {useContext, useEffect, useState, useCallback} from 'react'\r\nimport {AuthContext} from '../App/context/AuthContext'\r\nimport {useAuth} from '../App/Hooks/auth.hook'\r\n\r\n\r\nvar Ons = require('onsenui');\r\n\r\n//check os\r\nconst os = Ons.platform.isIOS() || Ons.platform.isAndroid();\r\n\r\n//if mobile version\r\nvar TabIndex = 0;\r\n\r\n//mobile onEnter Hook\r\nconst onEnter = (trans, state) => {\r\n    trans.onSuccess(\"\", () => {\r\n        console.log(TabIndex);\r\n        var tabs = document.getElementsByTagName(\"ons-tabbar\")[0];\r\n        var btn = tabs.getElementsByTagName(\"button\")[TabIndex];\r\n        btn.click();\r\n    });\r\n}\r\n\r\n//noop function\r\nconst noop = (trans, state) => {};\r\n\r\nconst useRoutes = isAuth =>{\r\n  return [\r\n    {\r\n      name: \"app\",\r\n      url: \"/\",\r\n      component: os? TabVersion : DesktopVersion,\r\n      redirectTo: \"app.main\",\r\n      onEnter: os ? () => { TabIndex = 0 ; return onEnter; } : noop(),\r\n    },\r\n    {\r\n      name: 'app.main',\r\n      url:\"main\",\r\n      component: Main,\r\n      onEnter: os ? () => { TabIndex = 0 ; return onEnter; } : noop(),\r\n    },\r\n    {\r\n      name: 'app.categories',\r\n      url:\"categories\",\r\n      component: Categories,\r\n      onEnter: os ?   () => { TabIndex = 1 ; return onEnter; } : noop(),\r\n    },\r\n    {\r\n      name: 'app.account',\r\n      url:\"account\",\r\n      component: UserPage,\r\n      onEnter: os ? () => { TabIndex = 2 ; return onEnter; } : (trans, state) => {if(!isAuth)state.redirectTo(\"app.signIn\")},\r\n      RedirectTo: (trans) => {\r\n        if(!isAuth)\r\n          return { state: \"app.signIn\"};\r\n      }\r\n    },\r\n    {\r\n      name: 'app.signIn',\r\n      url:\"signIn\",\r\n      component: SignIn,\r\n      onEnter: (trans, state) => {if(!isAuth)state.redirectTo(\"app.account\")},\r\n      RedirectTo: (trans) => {\r\n        if(isAuth)\r\n          return { state: \"app.account\"};\r\n      }\r\n    },\r\n    {\r\n      name: 'app.signUp',\r\n      url:\"signUp\",\r\n      component: SignUp,\r\n      onEnter: (trans, state) => {if(!isAuth)state.redirectTo(\"app.account\")},\r\n      RedirectTo: (trans) => {\r\n        if(isAuth)\r\n          return { state: \"app.account\"};\r\n      }\r\n    },\r\n    {\r\n      name: 'app.category',\r\n      url: 'categories/:category',\r\n      component: Category,\r\n    },\r\n    {\r\n      name: 'app.titlepage',\r\n      url: 'titles/:titleId',\r\n      component: titlePage,\r\n    }\r\n  ]\r\n}\r\n\r\nexport {TabIndex, useRoutes}"]},"metadata":{},"sourceType":"module"}